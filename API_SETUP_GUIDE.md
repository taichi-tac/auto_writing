# APIキー取得ガイド

このアプリケーションを使用するには、以下の2つのAPIキーが必要です。

## 1. ラッコキーワードAPI

### 取得方法

1. **ラッコキーワードにアクセス**
   - URL: https://related-keywords.com/

2. **アカウント登録**
   - 右上の「ログイン/新規登録」をクリック
   - メールアドレスとパスワードを設定して登録

3. **有料プランに加入**
   - ログイン後、「プラン変更」をクリック
   - APIを使用するには有料プラン（月額990円〜）が必要です
   - おすすめ: **ライトプラン（月額990円）** - 月間5,000リクエスト

4. **APIキーを取得**
   - マイページから「API」タブをクリック
   - 「APIキーを発行」ボタンをクリック
   - 発行されたAPIキーをコピー

### 料金プラン（参考）

| プラン | 月額料金 | リクエスト数/月 |
|--------|----------|-----------------|
| ライト | 990円 | 5,000 |
| スタンダード | 2,475円 | 15,000 |
| プロ | 4,950円 | 50,000 |
| エンタープライズ | 9,900円 | 150,000 |

### 必要なAPI

このアプリでは以下のAPIエンドポイントを使用します：
- `サジェストキーワード取得API`
- `見出し抽出API`（オプション）

---

## 2. Anthropic Claude API

### 取得方法

1. **Anthropic Consoleにアクセス**
   - URL: https://console.anthropic.com/

2. **アカウント作成**
   - 「Sign Up」をクリック
   - メールアドレスを入力して登録
   - メール認証を完了

3. **支払い情報を登録**
   - Console画面で「Billing」タブをクリック
   - クレジットカード情報を登録
   - 初回クレジット（$5分）が付与される場合があります

4. **APIキーを発行**
   - 「API Keys」タブをクリック
   - 「Create Key」ボタンをクリック
   - キー名を入力（例: "auto_writing_app"）
   - 発行されたAPIキー（`sk-ant-...`）をコピー
   - ⚠️ このキーは一度しか表示されないので、必ず安全な場所に保存してください

### 料金について

Claude APIは従量課金制です。使用したトークン数に応じて課金されます。

**Claude 3.5 Sonnet（推奨モデル）の料金:**
- Input: $3.00 / 1M tokens
- Output: $15.00 / 1M tokens

**概算コスト（1記事あたり）:**
- 約5,000〜10,000トークン使用
- **1記事あたり約$0.10〜$0.30（約15〜45円）**

月間100記事生成しても、約1,500〜4,500円程度です。

---

## 3. APIキーの設定方法

APIキーを取得したら、以下の手順で設定します。

### 環境変数ファイルの作成

プロジェクトルートに `.env` ファイルを作成します：

```bash
# ラッコキーワードAPI
RAKKO_API_KEY=your_rakko_api_key_here

# Anthropic Claude API
ANTHROPIC_API_KEY=sk-ant-your_api_key_here

# アプリケーション設定
PORT=3000
NODE_ENV=development
```

### ⚠️ セキュリティ上の注意

- `.env` ファイルは **絶対にGitにコミットしないでください**
- `.gitignore` に `.env` が含まれていることを確認してください
- APIキーは他人と共有しないでください
- 本番環境では環境変数を直接サーバーに設定してください

---

## 4. 動作確認

APIキーを設定したら、以下のコマンドで動作確認できます：

```bash
# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev

# ブラウザでアクセス
# http://localhost:3000
```

---

## トラブルシューティング

### ラッコキーワードAPIでエラーが出る場合

- APIキーが正しく設定されているか確認
- 有料プランに加入しているか確認
- 月間リクエスト上限を超えていないか確認

### Claude APIでエラーが出る場合

- APIキーが `sk-ant-` で始まっているか確認
- 支払い情報が登録されているか確認
- クレジット残高があるか確認（Console > Billing）

### 環境変数が読み込まれない場合

- `.env` ファイルがプロジェクトルートにあるか確認
- サーバーを再起動してみる
- `dotenv` パッケージがインストールされているか確認

---

## 参考リンク

- [ラッコキーワード公式サイト](https://related-keywords.com/)
- [ラッコキーワードAPI ドキュメント](https://related-keywords.com/api/)
- [Anthropic Console](https://console.anthropic.com/)
- [Claude API ドキュメント](https://docs.anthropic.com/)

---

**準備ができたら、次のステップに進みましょう！**
